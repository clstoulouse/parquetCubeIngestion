fr.cls.bigdata {
  dev-local-path = ${DEV_LOCAL_PATH} #"J:/dev/parquet-cube/dev-local"
  
  hadoop {
    configuration {
      fs.file.impl = "org.apache.hadoop.fs.LocalFileSystem"
      fs.hdfs.impl = "org.apache.hadoop.hdfs.DistributedFileSystem"
    }

    distributed-lock {
      lock-folder = ${fr.cls.bigdata.dev-local-path}"/lock"
    }
  }

  metoc {
    netcdf.crawler {
      crawling-period = "30 seconds"
      on-success {
        copy-to = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-raw/success"
        remove-input-file = true
      }
      on-failure {
        copy-to = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-raw/failure"
        remove-input-file = true
      }
      datasets {
//        dataset-catsat-nrt-global-infrared-sst-hr {
//          input-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-input/dataset-catsat-nrt-global-infrared-sst-hr"
//          mode = local
//        }
//        dataset-cmems-global-analyse-forecast-wav-001-027 {
//          input-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-input/dataset-cmems-global-analyse-forecast-wav-001-027"
//          mode = local
//        }
//        lwq-100 {
//          input-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-input/lwq-100"
//          mode = local
//        }
//        lwq-300 {
//          input-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-input/lwq-300"
//          mode = local
//        }
        etude-bench {
          input-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-input/etude-bench"
          mode = local
          rounding = {
            coordinates-precision = 2
            rounding-mode = RoundHalfUp
          }
          //excluded-variables=["crs"]
        }
      }
    }

    datasets {
//      dataset-catsat-nrt-global-infrared-sst-hr {
//        data-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/dataset-catsat-nrt-global-infrared-sst-hr/data"
//        index-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/dataset-catsat-nrt-global-infrared-sst-hr/index"
//      }
//      dataset-cmems-global-analyse-forecast-wav-001-027 {
//        data-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/dataset-cmems-global-analyse-forecast-wav-001-027/data"
//        index-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/dataset-cmems-global-analyse-forecast-wav-001-027/index"
//      }
//      lwq-100 {
//        data-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/lwq-100/data"
//        index-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/lwq-100/index"
//      }
//      lwq-300 {
//        data-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/lwq-300/data"
//        index-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/lwq-300/index"
//      }
      etude-bench {
        data-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/etude-bench/data"
        index-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/nc-output/etude-bench/index"
      }
    }

    track-enrich {
      api {
        mist-api-url = "http://localhost:2004/v2/api"

        tracks {
          raw-tracks-folder = "webhdfs://big-namenode1.vlandata.cls.fr/dev/data/metoc/env-local/"${user.name}"/track/api/input"
          enriched-tracks-folder = "webhdfs://big-namenode1.vlandata.cls.fr/dev/data/metoc/env-local/"${user.name}"/track/api/output"
        }
      }
    }

    enrich {
      cli {
        parameter-file = "file:///"${fr.cls.bigdata.dev-local-path}"/enrich-cli/parameter.json"
        input-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/enrich-cli/input/"
        output-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/enrich-cli/output/"
      }
    }

    extraction {
      api {
        mist-api-url = "http://localhost:2005/v2/api"
        output-folder = "webhdfs://big-namenode1.vlandata.cls.fr/dev/data/metoc/env-local/"${user.name}"/extraction/api/output"
      }

      cli {
        output-folder = "file:///"${fr.cls.bigdata.dev-local-path}"/extraction-cli/output/"
      }
    }
  }
}

include "crawler-tests.conf"